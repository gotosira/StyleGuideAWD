$(document).ready(function(){function e(e,t,o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var i="expires="+n.toGMTString();document.cookie=e+"="+t+"; "+i}function t(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return"error, cannot get cookie"}function o(){var e="lasturl",o=window.location.href;document.cookie=e+"="+o,i=t("lasturl")}function n(e){var t=e.location.href,o={foo:"bar"};e.history.pushState(o,"page1",t),e.history.replaceState(o,"page2",i),e.addEvenListener("popstate",function(e){var t=e.state})}var i;$(".code-preview-icn-all").click(function(){$(".code-preview").each(function(){$(this).is(":checked")?$(this).prop("checked",!1):$(this).prop("checked",!0)})}),$(".code-preview-button").click(function(){var e=$(this).next("pre");e.slideToggle(),$("body").animate({scrollTop:e.offset().top},500)}),$(".new_page").click(function(){o();var e=window.open("new.html");e.onload=function(){n(e)}}),$(".test").click(function(){var e=t("lasturl");alert(e)})});